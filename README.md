starting points:

https://github.com/home-assistant/core/tree/dev/homeassistant/components/openai_conversation
Doesn't allow custom base url

https://github.com/michelle-avery/openai-compatible-conversation 
Didn't need customizations and was out of date. Didn't support streaming or continued conversations when switching between local/remote agents.