starting points:

https://github.com/home-assistant/core/tree/dev/homeassistant/components/openai_conversation
<br>
Doesn't allow custom base url

https://github.com/michelle-avery/openai-compatible-conversation 
<br>
Didn't need customizations and was out of date. Also Didn't support text streaming or continued conversations when switching between local/remote agents.